# 테스트 티켓

문제점 :
회원정보를 불러오는 로직 자체의 시간이 너무 오래 걸림.
회원정보는 어떤 API에서든 사용하기 때문에 해당 로직으로 인해서 API 응답에 걸리는 시간이 너무 길어서 앱 성능에 대한 불편이 VOC로 다건 들어옴.

요구사항 :
회원정보를 빠르게 불러올 수 있도록 로직 수정을 하여 사용자들의 불편 해소.

해결방법 :
회원정보를 빠르게 불러올 수 있는 방법을 생각해보기.

로그인 절차  
1. ID로 DB에 회원이 있는지 확인하고 회원 객체를 가져옴. v
2. 회원 객체의 PWD와 화면에서 가져온 PWD를 대조하여 로그인 처리를 해줌 v
3. 리턴 값으로는 cmn을 리턴해줌. v
4. 클라이언트에서는 리턴 받은 cmn을 request Header 값에 넣어서 같이 보내줌. v
5. 서버에서는 request Header에 포함된 cmn을 조회하여 해당 URL에 접근할 수 있는 권한이 있는지 체크함.
6. 권한은 admin, user 두개의 권한만 가지고 있으며, 커스텀 어노테이션을 사용하여 컨트롤러의 메소드에 권한을 부여. v
7. 메소드의 권한을 보고 해당 회원의 권한과 비교하여 접근할 수 있는지 체크

예시) 시큐리티 케이스면 ROLE, DB 필드값에 BO 계정권한  
커스텀 어노테이션 - hasRole
admin이면 cmn값 달라도 ok
user면 cmn 값 같아야 함


6. 회원 객체를 만들어서 request 객체에 넣어줌. v
7. 컨트롤러에서 회원 객체에 접근할 수 있게 됨. v